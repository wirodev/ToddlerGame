/* ========== Base ========== */
* { box-sizing: border-box; }

:root{
  --page-bg:#3e3e3e;
  --surface:#ffffff;
  --text:#222;
  --accent:#ff9933;
  --card-radius:18px;
  --card-border:6px;
}

html,body{height:100%}
body{
  margin:0;
  background:var(--page-bg);
  color:var(--text);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

.hidden{display:none !important}

/* ========== Screens ========== */
.screen{
  min-height:100vh;
  display:grid;
  place-items:center;
  padding:2rem;
}

/* Start screen background + overlay */
#startScreen{
  background:
    linear-gradient(0deg, rgba(0,0,0,.28), rgba(0,0,0,.28)),
    url('../images/bg.png') center/cover no-repeat;
}

.start-hero{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:1rem;
}

.start-title{
  font-family:'Chewy', cursive;
  color:#fff;
  font-size: clamp(3rem, 10vw, 6rem);
  line-height:1;
  margin:0 0 .5rem 0;
  text-shadow: 0 4px 20px rgba(0,0,0,.35);
}

/* ========== Page Shell ========== */
.page{width:100%;max-width:1400px;margin:0 auto;padding:1rem}
.topbar{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem}
.topbar h2{
  font-family:'Chewy', cursive;
  color:#fff;
  font-size:clamp(1.4rem,4vw,2.2rem);
  margin:0;
}

/* ========== Grid (max 4 columns) ========== */
.grid{
  --cols:1;
  display:grid;
  grid-template-columns:repeat(var(--cols),1fr);
  gap:1.2rem;
  padding:.5rem;
  justify-content:center;
}
@media (min-width:560px){ .grid{ --cols:2; } }
@media (min-width:900px){ .grid{ --cols:3; } }
@media (min-width:1200px){ .grid{ --cols:4; } } /* cap at 4 */

/* ========== Cards with 3D flip ========== */
.card{
  width:100%;
  aspect-ratio:3/4;
  perspective:1200px;
  outline:none;
}
.card-inner{
  position:relative;
  width:100%;height:100%;
  transform-style:preserve-3d;
  transition:transform .55s ease;
  will-change:transform;
}
.card.flipped .card-inner{ transform:rotateY(180deg); }

.face{
  position:absolute; inset:0;
  border: var(--card-border) solid var(--card-accent, #333);
  background:var(--card-bg, #fff);
  border-radius:var(--card-radius);
  backface-visibility:hidden;
}

/* FRONT: big letter in Chewy (force with !important) */
.front{
  display:grid; place-items:center;
  font-family:'Chewy', cursive !important;
  color:var(--card-accent, #333);
  font-size: clamp(6rem, 18vmin, 22rem);
  line-height: 1;
  padding: 0 .1em;
  overflow: hidden;
}

/* BACK: image dominates; name & fact below it (no overlap) */
.back{
  transform:rotateY(180deg);
  display:grid;
  /* give image ~58% height so texts always have space */
  grid-template-rows: minmax(0, 58%) min-content 1fr;
  align-items:center;
  justify-items:center;
  row-gap: 1rem;                 /* clear separation between rows */
  padding:.6rem .6rem 1rem;
  background:var(--surface);
  overflow:hidden;
}

/* Works whether you have .img-wrap or not */
.back .img-wrap{
  width:100%; height:100%;
  min-height:0;
  display:grid; place-items:center;
  padding-bottom: .6rem;         /* buffer below image area */
}

/* Animal image: large + white border when flipped */
.card img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  border-radius:12px;
  background:#fff;
  /* Fallback gap if .img-wrap isn't present */
  margin-bottom:.75rem;
  border: 0 solid #fff;          /* shows after flip */
  transition: border .2s ease, box-shadow .2s ease, margin .2s ease;
}
.card.flipped .back img{
  border-width: 8px;
  box-shadow: 0 8px 18px rgba(0,0,0,.15);
}

/* Name below image */
.name-tag{
  font-family:'Chewy', cursive;
  text-align:center;
  color:#111;
  margin:.1rem 0 0 0;
  padding:0 .25rem;
  font-size: clamp(1.8rem, 5vmin, 3.2rem);
  line-height:1.05;
  overflow-wrap:anywhere;
}

/* Fact text in Andika */
.fact-text{
  font-family:'Andika', system-ui, Arial, sans-serif;
  text-align:center;
  color:#333;
  max-width: 96%;
  margin:.2rem 0 0 0;
  padding:0 .25rem .2rem;
  font-size: clamp(1.05rem, 3.2vmin, 1.6rem);
  line-height:1.35;
  overflow-wrap:anywhere;
}

/* ========== Playful “Spela!” button (2.5× bigger) ========== */
.btn{
  cursor:pointer;
  user-select:none;
  touch-action:manipulation;
  border:none;
  outline:none;
}
.btn-play{
  font-family:'Chewy', cursive;
  font-size: clamp(3.5rem, 9vw, 6rem); /* ~2.5× */
  color:#fff;
  padding: 1.2rem 3.2rem;
  border-radius: 26px;
  position:relative;
  background:
    radial-gradient(120% 180% at 10% 10%, #ffd966 0%, #ffae42 40%, #ff8a00 70%, #f75 100%);
  box-shadow:
    0 14px 0 rgba(0,0,0,.25),
    0 24px 36px rgba(0,0,0,.35) inset,
    0 -14px 24px rgba(255,255,255,.18) inset,
    0 18px 32px rgba(0,0,0,.35);
  transform: translateY(0);
  transition: transform .08s ease, box-shadow .15s ease, filter .15s ease;
}
.btn-play::after{
  /* animated shine */
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(120deg, rgba(255,255,255,.55) 0%, rgba(255,255,255,0) 40% 60%, rgba(255,255,255,.45) 100%);
  mix-blend-mode: soft-light;
  border-radius: inherit;
  pointer-events:none;
  animation: shine 3s linear infinite;
}
@keyframes shine{
  0% { opacity:.35; }
  50% { opacity:.7; }
  100% { opacity:.35; }
}
.btn-play:hover{ filter: saturate(1.08) brightness(1.03); }
.btn-play:active{
  transform: translateY(3px) scale(.99);
  box-shadow:
    0 8px 0 rgba(0,0,0,.25),
    0 16px 24px rgba(0,0,0,.35) inset,
    0 -10px 18px rgba(255,255,255,.14) inset,
    0 12px 22px rgba(0,0,0,.35);
}
.btn-play:focus-visible{ outline:4px solid #fff; outline-offset:3px }

/* ========== Reduced motion ========== */
@media (prefers-reduced-motion: reduce){
  .card-inner, .btn-play::after { animation: none; transition: none; }
}
